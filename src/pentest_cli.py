import argparse
import socket

parser = argparse.ArgumentParser()

parser.add_argument("-hn", "--hostname", help="Host solicitado", type=str)
parser.add_argument("-p", "--port", help="Porta solicitada", type=int)

args = parser.parse_args()

client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
client.settimeout(1)
code = client.connect_ex((args.hostname, args.port))

if code == 0:
    print(f"{args.port} OPEN")

# ports = [21, 23, 80, 443, 8080]
#
# for port in ports:
#     client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
#     client.settimeout(0.5)
#     code = client.connect_ex(('google.com', port))
#     #code = client.connect_ex((socket.gethostname(), port))
#     if code==0:
#         print(f'{port} OPEN')
